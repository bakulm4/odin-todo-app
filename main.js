(()=>{var e={798:function(e,t,n){e=n.nmd(e),function(n,r){"use strict";var a={};n.PubSub?(a=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=a,function(e){var t={},n=-1;function r(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function a(e,t,n){e(t,n)}function o(e,n,o,i){var s,d=t[n],l=i?a:r;if(Object.prototype.hasOwnProperty.call(t,n))for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&l(d[s],e,o)}function i(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function s(e,t,n,r){var a=function(e,t,n){return function(){var r=String(e),a=r.lastIndexOf(".");for(o(e,e,t,n);-1!==a;)a=(r=r.substr(0,a)).lastIndexOf("."),o(e,r,t,n);o(e,"*",t,n)}}(e="symbol"==typeof e?e.toString():e,t,r);return!!function(e){for(var t=String(e),n=i(t)||i("*"),r=t.lastIndexOf(".");!n&&-1!==r;)r=(t=t.substr(0,r)).lastIndexOf("."),n=i(t);return n}(e)&&(!0===n?a():setTimeout(a,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var a="uid_"+String(++n);return t[e][a]=r,a},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,a=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])a++;break}return a},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,a,o,i="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!i&&"string"==typeof n,d="function"==typeof n,l=!1;if(!i){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(a=t[r],s&&a[n]){delete a[n],l=n;break}if(d)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&a[o]===n&&(delete a[o],l=!0)}return l}e.clearSubscriptions(n)}}(a)),void 0!==e&&e.exports&&(t=e.exports=a),t.PubSub=a,e.exports=t=a}("object"==typeof window&&window||this)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=document.querySelector(".left_menu_toggle"),t=document.querySelector("#left_menu"),r=document.querySelector("#filter_inbox"),a=(r.querySelector(".menu_item_label"),r.querySelector(".menu_item_count")),o=document.querySelector("#filter_today"),i=(o.querySelector(".menu_item_label"),o.querySelector(".menu_item_count")),s=document.querySelector(".project_list"),d=s.querySelector(".edit_project_name_form"),l=s.querySelector(".edit_project_name"),u=l.querySelector("input"),c=document.querySelector("#filter_today tspan"),f=document.querySelector("[data-new-project-form]"),m=document.querySelector("[data-new-project-input]"),p=document.querySelector("#content .view_header_content"),h=document.querySelector(".items"),y=document.querySelector(".add_task_container"),g=document.querySelector(".add_task_button"),v=document.querySelector("#content .manager"),w=v.querySelector(".task_editor"),b=w.querySelector(".task_editor_title_field"),k=w.querySelector(".task_editor_description_field"),_=(w.querySelector(".task_area_action_buttons .cancel_edit"),w.querySelector(".task_area_action_buttons .save_edit")),T=w.querySelector("button.item_action"),M=T.querySelectorAll("[data-icon-name]"),S=document.querySelector(".priority_dropdown"),x=document.querySelectorAll(".priority_picker_item"),D=S.querySelectorAll(".dropdown_select_checkmark"),E=w.querySelector("button.item_project_selector"),C=E.querySelector(".projectSectionPill-text"),P=document.querySelector(".project_dropdown"),L=P.querySelector("ul"),q=P.querySelectorAll(".project_picker_item"),j=w.querySelector("button.item_due_selector"),I=j.querySelector("span.date"),O=document.querySelector(".modal_overlay"),A=O.querySelector(".date_picker"),U=A.querySelector(".date-picker-header-month"),Y=A.querySelector(".date-picker-header-actions"),z=(A.querySelector(".prev-mth"),A.querySelector(".next-mth"),A.querySelector(".calendar_weeks")),W=O.querySelector(".confirmation-dialog"),N=W.querySelector("form"),H=N.querySelector(".close"),F=N.querySelector(".message>strong"),B=N.querySelector('footer>button[type="reset"]'),V=N.querySelector('footer>button[type="submit"]'),R=O.querySelector(".task_details_modal"),Q=R.querySelector(".task_details_modal_close"),G=R.querySelector(".task_details_title"),X=R.querySelector(".task_details_description"),J=R.querySelector(".task_details_sidebar_projectname span"),$=R.querySelector(".task_details_sidebar_duedate span"),K=R.querySelector(".task_details_sidebar_priority"),Z=K.querySelector(".task_details_sidebar_priority span"),ee=K.querySelectorAll("[data-icon-name]"),te=document.querySelector("#content .toaster"),ne=te.querySelector(".toaster-text"),re=te.querySelector(".undo-action"),ae=te.querySelector(".close-alert");function oe(){return Array.from(h.querySelectorAll(".task_list_item"))}function ie(e){return{name:e.querySelector(".task_list_item_content span").innerText,description:e.querySelector(".task_list_item_content .task_list_item_description ").innerText,dueDate:e.querySelector(".task_list_item_content .due_date_controls").dataset.dueDate,priority:e.dataset.taskPriority,id:e.dataset.taskId}}function se(){return Array.from(P.querySelectorAll(".project_picker_projectname"))}function de(){return Array.from(P.querySelectorAll(".dropdown_select_checkmark"))}function le(e){return Array.from(document.querySelectorAll(".menu_item")).find((t=>t.dataset.projectId===e))}function ue(e){return e.querySelector(".menu_item_label").innerText}function ce(e){return le(e).querySelector(".menu_item_count")}function fe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function pe(e){fe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===me(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}const he={P1:["priority_1","1"],P2:["priority_2","2"],P3:["priority_3","3"],P4:["priority_4","4"]},ye=[],ge=new Date;function ve(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=(r.width-n.width)/2,o=window.innerWidth-n.right>a?n.left-a+"px":window.innerWidth-r.width-20+"px",i=`${n.bottom+5}px`;t.style.transform=`translate3d(${o},${i},0px)`}function we(e){let t="1";te.style.display="flex","taskId"in e?(re.dataset.taskId=e.taskId,t+=" task"):"projectId"in e&&(re.dataset.projectId=e.projectId,t+=" project"),t+="complete"===e.type?" completed":" deleted",re.dataset.actionType=e.type,ne.innerText=t}function be(){re.dataset.taskId="",re.dataset.projectId="",te.style.display="none"}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function _e(e){return fe(1,arguments),e instanceof Date||"object"===ke(e)&&"[object Date]"===Object.prototype.toString.call(e)}function Te(e){if(fe(1,arguments),!_e(e)&&"number"!=typeof e)return!1;var t=pe(e);return!isNaN(Number(t))}function Me(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Se(e,t){fe(2,arguments);var n=pe(e).getTime(),r=Me(t);return new Date(n+r)}function xe(e,t){fe(2,arguments);var n=Me(t);return Se(e,-n)}ge.setHours(0,0,0,0);var De=864e5;function Ee(e){fe(1,arguments);var t=1,n=pe(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function Ce(e){fe(1,arguments);var t=pe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Ee(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Ee(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Pe(e){fe(1,arguments);var t=Ce(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Ee(n);return r}var Le=6048e5,qe={};function je(){return qe}function Ie(e,t){var n,r,a,o,i,s,d,l;fe(1,arguments);var u=je(),c=Me(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(d=u.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=pe(e),m=f.getUTCDay(),p=(m<c?7:0)+m-c;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function Oe(e,t){var n,r,a,o,i,s,d,l;fe(1,arguments);var u=pe(e),c=u.getUTCFullYear(),f=je(),m=Me(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==r?r:null===(d=f.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(c+1,0,m),p.setUTCHours(0,0,0,0);var h=Ie(p,t),y=new Date(0);y.setUTCFullYear(c,0,m),y.setUTCHours(0,0,0,0);var g=Ie(y,t);return u.getTime()>=h.getTime()?c+1:u.getTime()>=g.getTime()?c:c-1}function Ae(e,t){var n,r,a,o,i,s,d,l;fe(1,arguments);var u=je(),c=Me(null!==(n=null!==(r=null!==(a=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==r?r:null===(d=u.locale)||void 0===d||null===(l=d.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1),f=Oe(e,t),m=new Date(0);m.setUTCFullYear(f,0,c),m.setUTCHours(0,0,0,0);var p=Ie(m,t);return p}var Ue=6048e5;function Ye(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const ze=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ye("yy"===t?r%100:r,t.length)},We=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ye(n+1,2)},Ne=function(e,t){return Ye(e.getUTCDate(),t.length)},He=function(e,t){return Ye(e.getUTCHours()%12||12,t.length)},Fe=function(e,t){return Ye(e.getUTCHours(),t.length)},Be=function(e,t){return Ye(e.getUTCMinutes(),t.length)},Ve=function(e,t){return Ye(e.getUTCSeconds(),t.length)},Re=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ye(Math.floor(r*Math.pow(10,n-3)),t.length)};function Qe(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var i=t||"";return n+String(a)+i+Ye(o,2)}function Ge(e,t){return e%60==0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):Xe(e,t)}function Xe(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Ye(Math.floor(a/60),2)+n+Ye(a%60,2)}const Je={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ze(e,t)},Y:function(e,t,n,r){var a=Oe(e,r),o=a>0?a:1-a;return"YY"===t?Ye(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Ye(o,t.length)},R:function(e,t){return Ye(Ce(e),t.length)},u:function(e,t){return Ye(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return We(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=function(e,t){fe(1,arguments);var n=pe(e),r=Ie(n,t).getTime()-Ae(n,t).getTime();return Math.round(r/Ue)+1}(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Ye(a,t.length)},I:function(e,t,n){var r=function(e){fe(1,arguments);var t=pe(e),n=Ee(t).getTime()-Pe(t).getTime();return Math.round(n/Le)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ye(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ne(e,t)},D:function(e,t,n){var r=function(e){fe(1,arguments);var t=pe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/De)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ye(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ye(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Ye(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return He(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Fe(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Be(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ve(e,t)},S:function(e,t){return Re(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Ge(a);case"XXXX":case"XX":return Xe(a);default:return Xe(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Ge(a);case"xxxx":case"xx":return Xe(a);default:return Xe(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Qe(a,":");default:return"GMT"+Xe(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Qe(a,":");default:return"GMT"+Xe(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return Ye(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ye((r._originalDate||e).getTime(),t.length)}};var $e=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ke=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ze={p:Ke,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return $e(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",$e(a,t)).replace("{{time}}",Ke(o,t))}};const et=Ze;function tt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var nt=["D","DD"],rt=["YY","YYYY"];function at(e){return-1!==nt.indexOf(e)}function ot(e){return-1!==rt.indexOf(e)}function it(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var st={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function dt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var lt,ut={date:dt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:dt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:dt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ct={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ft(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var i=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[i]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function mt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var i,s=o[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(d)?ht(d,(function(e){return e.test(s)})):pt(d,(function(e){return e.test(s)}));i=e.valueCallback?e.valueCallback(l):l,i=n.valueCallback?n.valueCallback(i):i;var u=t.slice(s.length);return{value:i,rest:u}}}function pt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ht(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}const yt={code:"en-US",formatDistance:function(e,t,n){var r,a=st[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:ut,formatRelative:function(e,t,n,r){return ct[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ft({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ft({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ft({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ft({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ft({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(lt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(lt.matchPattern);if(!n)return null;var r=n[0],a=e.match(lt.parsePattern);if(!a)return null;var o=lt.valueCallback?lt.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;var i=e.slice(r.length);return{value:o,rest:i}}),era:mt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:mt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var gt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wt=/^'([^]*?)'?$/,bt=/''/g,kt=/[a-zA-Z]/;function _t(e,t,n){var r,a,o,i,s,d,l,u,c,f,m,p,h,y,g,v,w,b;fe(2,arguments);var k=String(t),_=je(),T=null!==(r=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:_.locale)&&void 0!==r?r:yt,M=Me(null!==(o=null!==(i=null!==(s=null!==(d=null==n?void 0:n.firstWeekContainsDate)&&void 0!==d?d:null==n||null===(l=n.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:_.firstWeekContainsDate)&&void 0!==i?i:null===(c=_.locale)||void 0===c||null===(f=c.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==o?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Me(null!==(m=null!==(p=null!==(h=null!==(y=null==n?void 0:n.weekStartsOn)&&void 0!==y?y:null==n||null===(g=n.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==h?h:_.weekStartsOn)&&void 0!==p?p:null===(w=_.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==m?m:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var x=pe(e);if(!Te(x))throw new RangeError("Invalid time value");var D=tt(x),E=xe(x,D),C={firstWeekContainsDate:M,weekStartsOn:S,locale:T,_originalDate:x},P=k.match(vt).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,et[t])(e,T.formatLong):e})).join("").match(gt).map((function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return Tt(r);var o=Je[a];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!ot(r)||it(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!at(r)||it(r,t,String(e)),o(E,r,T.localize,C);if(a.match(kt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r})).join("");return P}function Tt(e){var t=e.match(wt);return t?t[1].replace(bt,"'"):e}function Mt(){O.style.backgroundColor="",O.style.display="none"}function St(e){const t=e.querySelector(".project_picker_projectname").innerText;se().forEach(((e,n)=>{e.innerText===t?de()[n].style.display="":de()[n].style.display="none"})),C.innerText=t,P.style.display="none",Mt()}function xt(e,t){O.style.display="block",A.style.display="flex",ve(e,A);let n=null,r=null,a=null,o=null;e.dataset.dueDate&&""!==e.dataset.dueDate?(o=new Date(e.dataset.dueDate),a=o.getDate(),n=o.getMonth(),r=o.getFullYear()):(o=ge,n=o.getMonth(),r=o.getFullYear()),function e({day:n,month:r,year:a}={},o){const i=new Date(ge.getFullYear(),ge.getMonth(),1),s=new Date(a,r,1),d=s.getDay(),l=new Date(a,r+1,0).getDate(),u=new Date(a,r,l),c=Math.ceil((l+d-1)/7);Y.children&&Array.from(Y.children).forEach((e=>e.remove())),Array.from(z.children).forEach((e=>e.remove()));const f=document.createElement("button");f.classList.add("prev-mth","date-picker-header-action"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                                    <g fill="none" fill-rule="evenodd">\n                                        <path d="M24 0v24H0V0z"></path>\n                                        <path fill="currentColor" fill-rule="nonzero" d="M10.707 12l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708.708L10.707 12z"></path>\n                                    </g>\n                                   </svg>',f.addEventListener("click",(t=>{t.stopPropagation(),function(t){const{currentMonth:n,currentYear:r}=Dt();e({month:0===n?11:n-1,year:0===n?r-1:r})}()})),f.disabled=s<=i;const m=document.createElement("button");m.classList.add("next-mth","date-picker-header-action"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                                    <g fill="none" fill-rule="evenodd">\n                                        <path d="M0 24V0h24v24z"></path>\n                                        <path fill="currentColor" fill-rule="nonzero" d="M13.293 12L9.646 8.354a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 12z"></path>\n                                    </g>\n                                </svg>',m.addEventListener("click",(t=>{t.stopPropagation(),function(t){const{currentMonth:n,currentYear:r}=Dt();e({month:11===n?0:n+1,year:11===n?r+1:r})}()})),Y.append(f,m),U.innerText=_t(s,"MMM yyyy");let p=s;for(let e=0;e<c;e+=1){const o=document.createElement("div");o.classList.add("calendar_week");for(let i=0;i<7;i+=1){if(p<ge||p>u||0===e&&i<d){const t=document.createElement("div");if(t.classList.add("calendar_day_date","calendar_spacer"),o.append(t),0===e&&i<d||p>u){t.innerText="";continue}t.innerText=p.getDate()}else{const e=document.createElement("button");e.classList.add("calendar_day"),e.dataset.date=_t(p,"MM-dd-yyyy");const s=document.createElement("span");s.innerText=p.getDate(),s.classList.add("calendar_day_date");const d=n?new Date(a,r,n):null;d&&p.toDateString()===d.toDateString()?s.classList.add("selected"):p.toDateString()===ge.toDateString()&&s.classList.add("current"),0!==i&&6!==i||s.classList.add("greyed"),e.addEventListener("click",(n=>{n.stopPropagation();const r=new Date(e.dataset.date);t(r),A.style.display="none",Mt()})),e.append(s),o.append(e)}p.setDate(p.getDate()+1)}z.append(o)}}({day:a,month:n,year:r})}function Dt(){const e=new Date(U.innerText);return{currentMonth:e.getMonth(),currentYear:e.getFullYear()}}function Et(){O.style.display="flex",O.style.backgroundColor="rgba(0,0,0,0.5)",W.style.display="block"}function Ct(){F.innerText="",V.dataset.taskId="",V.dataset.projectId="",W.style.display="none",Mt()}function Pt(){b.value="",k.value="",j.dataset.dueDate="",I.innerText="Due Date",I.dataset.dueDate="",C.innerText=Jt().name,T.dataset.priority="4",M.forEach((e=>{"4"===e.dataset.priority?e.style.display="block":e.style.display="none"}))}function Lt(e){const t=document.createElement("li");t.classList.add("project_list_item","menu_item"),t.dataset.projectId=e.id;const n=document.createElement("div");n.classList.add("menu_item_name");const r=document.createElement("span");r.classList.add("menu_item_icon"),r.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" class="project_icon"><path d="M12 7a5 5 0 110 10 5 5 0 010-10z" fill="currentColor"></path></svg>';const a=document.createElement("span");a.classList.add("menu_item_label"),a.innerText=e.name,a.dataset.projectId=e.id,n.append(r,a);const o=document.createElement("button");o.classList.add("menu_item_icon"),o.dataset.tooltip="Edit project",o.innerHTML='<svg width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"></path><path stroke="currentColor" d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"></path></g></svg>',o.addEventListener("click",(e=>function(e,t){e.stopPropagation(),t.style.display="none",t.after(l),l.style.display="flex",u.focus(),u.value=ue(t),u.dataset.projectId=t.dataset.projectId}(e,t)));const i=document.createElement("button");i.classList.add("menu_item_icon"),i.dataset.tooltip="Delete project",i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"></rect><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"></path><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"></path></g></svg>',i.addEventListener("click",(e=>{var n;e.stopPropagation(),n=t,Et(),F.innerText=ue(n),V.dataset.projectId=n.dataset.projectId}));const d=document.createElement("div");d.classList.add("menu_item_count"),d.innerText=e.tasks.filter((e=>!e.complete)).length,d.dataset.projectId=e.id,t.append(n,o,i,d),t.addEventListener("click",(t=>{t.stopPropagation(),Gt(e.id)})),s.append(t)}function qt(e){p.innerText=e.name,oe().forEach((e=>e.remove())),y.style.display="block",v.style.display="none",y.after(v),e.tasks.filter((e=>!e.complete)).sort(((e,t)=>{return n=e.dueDate,r=t.dueDate,""===n&&""===r?0:""===n?1:""===r?-1:function(e,t){fe(2,arguments);var n=pe(e),r=pe(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}(new Date(n),new Date(r));var n,r})).forEach((e=>{!function(e){if(!e)return;const t=document.createElement("li");t.classList.add("task_list_item"),t.dataset.taskId=e.id,t.dataset.taskPriority=he[e.priority][1];const n=document.createElement("div");n.classList.add("task_list_item_body");const r=document.createElement("span");r.classList.add("task_hover_icon"),r.innerHTML='<svg width="24" height="24"><path fill="currentColor" d="M14.5 15.5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 15.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 15.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 10.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 10.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 5.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 5.5z"></path></svg>';const a=document.createElement("button");a.classList.add("task_checkbox",he[e.priority][0]),a.innerHTML='<svg width="24" height="24">\n    <path fill="currentColor" d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"></path>\n</svg>',a.addEventListener("click",(n=>{n.stopPropagation(),function(e,t){we({type:"complete",taskId:e}),t.style.display="none",ye.push([e,t]);const n=ce(Jt().id);n.innerText=parseInt(n.innerText)-1,setTimeout((()=>{ye.some((t=>t[0]===e))&&(ye.splice(ye.findIndex((t=>t[0]===e)),1),function(e){(function(e){Qt(e)[0].complete=!0,Ft()})(e),Zt()}(e),t.remove()),be()}),3e3)}(e.id,t)}));const o=document.createElement("div");o.classList.add("task_list_item_content");const i=document.createElement("span");i.innerText=e.name,i.addEventListener("click",(e=>{e.stopPropagation(),function(e){O.style.display="flex",R.style.display="flex",O.style.backgroundColor="rgba(0,0,0,0.5)";const t=ie(e);t.project=$t(t.id),G.innerText=t.name,X.innerText=t.description,J.innerText=t.project;const n=new Date(t.dueDate);$.innerText=""===t.dueDate?"No Due Date":_t(n,n.getFullYear()>ge.getFullYear()?"MMM d yyyy":"MMM d"),n<ge?$.classList.contains("date_overdue")||$.classList.add("date_overdue"):$.classList.contains("date_overdue")&&$.classList.remove("date_overdue"),Z.innerText=Object.entries(he).find((e=>e[1][1]===t.priority))[0],ee.forEach((e=>{e.dataset.priority===t.priority?e.style.display="block":e.style.display="none"}))}(t)}));const s=document.createElement("span");s.classList.add("task_list_item_description"),s.innerText=e.description;const d=document.createElement("span");d.classList.add("due_date_controls"),d.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="calendar_icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 1h-7A1.5 1.5 0 001 2.5v7A1.5 1.5 0 002.5 11h7A1.5 1.5 0 0011 9.5v-7A1.5 1.5 0 009.5 1zM2 2.5a.5.5 0 01.5-.5h7a.5.5 0 01.5.5v7a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-7zM8.75 8a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM3.5 4a.5.5 0 000 1h5a.5.5 0 000-1h-5z" fill="currentColor"></path></svg>',d.dataset.dueDate=e.dueDate;const l=document.createElement("span");l.classList.add("due_date");try{const t=new Date(e.dueDate);l.innerText=_t(t,t.getFullYear()>ge.getFullYear()?"MMM d yyyy":"MMM d"),t<ge&&d.classList.add("date_overdue")}catch(e){l.innerText="No Due Date"}l.dataset.dueDate=e.dueDate,d.append(l),o.append(i,s,d);const u=document.createElement("div");u.classList.add("task_list_item_actions");const c=document.createElement("button");c.dataset.tooltip="Edit task",c.classList.add("task_list_item_actions_edit"),c.innerHTML='<svg width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"></path><path stroke="currentColor" d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"></path></g></svg>',c.addEventListener("click",(e=>{e.stopPropagation(),function(e){e.after(v),e.style.display="none",v.style.display="block",b.focus();const t=ie(e);t.project=$t(t.id),function(e){b.value=e.name,k.value=e.description,j.dataset.dueDate=e.dueDate;const t=new Date(e.dueDate);I.innerText=""===e.dueDate?"No Due Date":_t(t,t.getFullYear()>ge.getFullYear()?"MMM d yyyy":"MMM d"),I.dataset.dueDate=e.dueDate,C.innerText=e.project,T.dataset.priority=e.priority,w.dataset.taskId=e.id,_.disabled=!e.name||""===e.name,M.forEach((t=>{t.dataset.priority===e.priority?t.style.display="block":t.style.display="none"}))}(t)}(t)}));const f=document.createElement("button");function m(e){const n=_t(e,"MM/dd/yyyy");var r;(r=t,Array.from(r.querySelectorAll("[data-due-date]"))).forEach((e=>{e.dataset.dueDate=n})),l.innerText=_t(e,e.getFullYear()>ge.getFullYear()?"MMM d yyyy":"MMM d"),Xt(ie(t))}f.classList.add("task_list_item_actions_due"),f.dataset.tooltip="Set due date",f.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2zM5 6a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm12 10a1 1 0 11-2 0 1 1 0 012 0zM7 8a.5.5 0 000 1h10a.5.5 0 000-1H7z" fill="currentColor"></path></svg>',f.dataset.dueDate=e.dueDate,f.addEventListener("click",(e=>{e.stopPropagation(),xt(f,m)}));const p=document.createElement("button");p.classList.add("task_list_item_actions_delete"),p.dataset.tooltip="Delete task",p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><rect width="14" height="1" x="5" y="6" fill="currentColor" rx=".5"></rect><path fill="currentColor" d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"></path><path stroke="currentColor" d="M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"></path></g></svg>',p.addEventListener("click",(n=>{var r,a;n.stopPropagation(),r=e.id,a=t,Et(),F.innerText=ie(a).name,V.dataset.taskId=r})),u.append(c,f,p),n.append(r,a,o,u),t.append(n),y.before(t)}(e)}))}function jt(){e.addEventListener("click",(()=>{t.style.display="none"!==t.style.display?"none":"flex",e.dataset.tooltip="Close menu"===e.dataset.tooltip?"Open menu":"Close menu"})),window.addEventListener("click",(e=>{e.target===O?(Array.from(O.children).forEach((e=>{e.style.display="none"})),Mt()):(Array.from(document.querySelectorAll(".menu_item")).filter((e=>"none"===e.style.display)).forEach((e=>e.style.display="flex")),"none"!==l.style.display&&(l.style.display="none",s.lastChild.after(l)))})),[r,o].forEach(((e,t)=>{e.addEventListener("click",(t=>{t.stopPropagation(),Gt(e.dataset.projectId)}))})),d.addEventListener("submit",(e=>{e.preventDefault();const t=u.value,n=u.dataset.projectId;null!==t&&""!==t&&(Array.from(document.querySelectorAll(".menu_item_label")).find((e=>e.dataset.projectId===n)).innerText=t,function({projectId:e,projectName:t}){!function({projectId:e,projectName:t}){Wt.find((t=>t.id===e)).name=t,Ft()}({projectId:e,projectName:t})}({projectId:n,projectName:t})),u.value=null,s.lastChild.after(l),u.dataset.projectId="",l.style.display="none",le(n).style.display="flex",p.innerText=t})),f.addEventListener("submit",(e=>{e.preventDefault();const t=m.value;null!==t&&""!==t&&(m.value=null,function(e){Lt(Vt(function(e){if(Wt.some((t=>t.name===e)))return Wt.find((t=>t.name===e)).id;{const t={name:e,id:Yt(),tasks:[]};return Wt.push(t),Ft(),t.id}}(e)))}(t))})),g.addEventListener("click",(e=>{e.stopPropagation(),v.style.display="block",y.style.display="none",b.focus(),C.innerText=Jt().name})),b.addEventListener("input",(e=>{""===e.target.value?_.disabled=!0:_.disabled=!1})),w.addEventListener("keydown",(e=>{13==(e.charCode||e.keyCode||0)&&(e.preventDefault(),e.stopPropagation())})),w.addEventListener("submit",(e=>{e.preventDefault(),e.stopImmediatePropagation(),Xt({name:b.value,description:k.value,dueDate:I.dataset.dueDate,priority:T.dataset.priority,project:C.innerText,id:w.dataset.taskId}),Pt(),v.style.display="none",oe().forEach((e=>e.style.display="block")),y.style.display="block",y.after(v)})),w.addEventListener("reset",(e=>{e.preventDefault(),e.stopImmediatePropagation(),Pt(),v.style.display="none",oe().forEach((e=>e.style.display="block")),y.style.display="block",y.after(v)})),T.addEventListener("click",(e=>{e.stopPropagation(),O.style.display="block",S.style.display="block",ve(T,S),D.forEach(((t,n)=>{n===parseInt(e.target.dataset.priority)-1?t.style.display="":t.style.display="none"}))})),x.forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation();const n=e.firstElementChild.dataset.priority;T.dataset.priority=n,M.forEach((e=>{e.dataset.priority===n?e.style.display="block":e.style.display="none"})),S.style.display="none",Mt()}))})),E.addEventListener("click",(e=>{e.stopPropagation(),O.style.display="block",P.style.display="block",ve(E,P),se().forEach(((e,t)=>{e.innerText===C.innerText?de()[t].style.display="":de()[t].style.display="none"}))})),q.forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),St(e)}))})),j.addEventListener("click",(e=>{e.stopPropagation(),xt(j,Ot)})),H.addEventListener("click",(e=>{e.stopPropagation(),Ct()})),B.addEventListener("click",(e=>{e.stopPropagation(),Ct()})),V.addEventListener("click",(e=>{e.stopPropagation();const t={type:"delete"};let n=null,r=null,a=null;if(V.dataset.taskId&&""!==V.dataset.taskId){r=V.dataset.taskId,t.taskId=V.dataset.taskId,o=r,n=oe().find((e=>e.dataset.taskId===o));const e=ce(Jt().id);e.innerText=parseInt(e.innerText)-1,a=It(Kt)}else V.dataset.projectId&&""!==V.dataset.projectId&&(r=V.dataset.projectId,t.projectId=V.dataset.projectId,n=le(r),a=It(en));var o;we(t),n.style.display="none",ye.push([r,n]),setTimeout((()=>a(r,n)),3e3),Ct()})),Q.addEventListener("click",(e=>{e.stopPropagation(),R.style.display="none",Mt()})),ae.addEventListener("click",(e=>{e.stopPropagation(),be()})),re.addEventListener("click",(e=>{e.stopPropagation();let t=null;if(re.dataset.taskId&&""!==re.dataset.taskId){t=re.dataset.taskId;const e=ce(Jt().id);e.innerText=parseInt(e.innerText)+1}else re.dataset.projectId&&""!==re.dataset.projectId&&(t=re.dataset.projectId);const n=ye.find((e=>e[0]===t))[1];ye.splice(ye.findIndex((e=>e[0]===t)),1),n.style.display="flex",be()}))}function It(e){return(t,n)=>{ye.some((e=>e[0]===t))&&(ye.splice(ye.findIndex((e=>e[0]===t)),1),e(t),n.remove()),be()}}function Ot(e){I.innerText=_t(e,e.getFullYear()>ge.getFullYear()?"MMM d yyyy":"MMM d"),j.dataset.dueDate=_t(e,"MM/dd/yyyy"),I.dataset.dueDate=_t(e,"MM/dd/yyyy")}var At=n(798),Ut=n.n(At);let Yt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");const zt={1:"P1",2:"P2",3:"P3",4:"P4"};let Wt=null,Nt=null;const Ht=_t(new Date,"MM/dd/yyyy");function Ft(){localStorage.setItem("todoList",JSON.stringify(Wt))}function Bt(){return Wt}function Vt(e){return Wt.find((t=>t.id===e))}function Rt(){return Nt}function Qt(e){if(null===e)return null;for(let t of Wt)if("Today"!==t.name)for(let n of t.tasks)if(n.id===e)return[n,t];return null}function Gt(e){!function(e){Nt=Wt.find((t=>t.id===e))}(e),qt(Vt(e))}function Xt(e){(function(e,t){var n;e.dueDate=(n=e.dueDate,/^[0-1][0-9]\/[0-3][0-9]\/\d{4}$/.test(n)?e.dueDate:""),e.priority=zt[e.priority];const r=function(e){return Wt.find((t=>t.name===e))}(t);if(e.id){let[t,n]=Qt(e.id);r&&r.name!==n.name?(n.tasks.splice(n.tasks.findIndex((t=>t.id===e.id)),1),r.tasks.push(e)):Object.assign(t,e)}else e.id=Yt(),e.complete=!1,r.tasks.push(e);e.dueDate===Ht&&Wt.find((e=>"Today"===e.name)).tasks.push(e),Ft()})({name:e.name,description:e.description,dueDate:e.dueDate,priority:e.priority,id:e.id},e.project),Zt(),qt(Rt())}function Jt(){return Rt()}function $t(e){return function(e){return Qt(e)[1].name}(e)}function Kt(e){!function(e){const t=Wt.find((t=>t.tasks.some((t=>t.id===e))));t.tasks.splice(t.tasks.findIndex((t=>t.id===e)),1),Ft()}(e)}function Zt(){!function(e){Array.from(document.querySelectorAll(".menu_item_count")).forEach((t=>{t.innerText=e.find((e=>e.id===t.dataset.projectId)).taskCount}))}(Bt().map((e=>({id:e.id,taskCount:e.tasks.filter((e=>!e.complete)).length}))))}function en(e){!function(e){const t=Wt.findIndex((t=>t.id===e));t>=0&&Wt.splice(t,1),Ft()}(e)}Ut().subscribe("SAVE PROJECTS",Ft),function(){const e=JSON.parse(localStorage.getItem("todoList"));e&&0!==e.length?(Wt=e,Wt.find((e=>"Today"===e.name)).tasks=[],Wt.forEach((e=>{if("Today"!==e.name)for(let t of e.tasks)t.dueDate===Ht&&Wt.find((e=>"Today"===e.name)).tasks.push(t)}))):(Wt=[],Wt.push({name:"Inbox",id:Yt(),tasks:[]}),Wt.push({name:"Today",id:Yt(),tasks:[]})),Ft(),Nt=Wt[0],Ut().publish("PROJECTS LOADED",e)}(),function(e){a.innerText=e.find((e=>"Inbox"===e.name)).tasks.filter((e=>!e.complete)).length,i.innerText=e.find((e=>"Today"===e.name)).tasks.filter((e=>!e.complete)).length,r.dataset.projectId=e.find((e=>"Inbox"===e.name)).id,o.dataset.projectId=e.find((e=>"Today"===e.name)).id,a.dataset.projectId=e.find((e=>"Inbox"===e.name)).id,i.dataset.projectId=e.find((e=>"Today"===e.name)).id,c.innerHTML=_t(ge,"dd"),function(e){Array.from(s.children).forEach((e=>e.remove())),e.forEach((e=>{Lt(e)}))}(e.slice(2)),function(e){e.forEach((e=>{const t=document.createElement("li");t.classList.add("project_picker_item"),t.innerHTML=`\n        <svg width="24" height="24" viewBox="0 0 24 24" class="project_icon" style="color: rgb(184, 184, 184);"><path d="M12 7a5 5 0 110 10 5 5 0 010-10z" fill="currentColor"></path></svg>\n        <span class="project_picker_projectname">${e.name}</span>\n        <svg  style="display:none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" class="dropdown_select_checkmark"><path fill="currentColor" fill-rule="evenodd" d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"></path></svg>\n        `,t.addEventListener("click",(e=>{e.stopPropagation(),St(t)})),L.append(t)}))}(e.slice(2)),qt(Jt()),jt()}(Bt())})()})();
//# sourceMappingURL=main.js.map